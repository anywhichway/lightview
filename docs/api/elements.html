<!-- SEO-friendly SPA Shim -->
<script src="/lightview-router.js"></script>
<script>
    if (window.LightviewRouter) {
        LightviewRouter.base('/index.html');
    }
</script>

<link rel="stylesheet" href="../components/index.css">

<div class="docs-layout">
    <aside class="docs-sidebar" src="./nav.html"></aside>

    <main class="docs-content">
        <h1>Creating Elements</h1>
        <p>
            Lightview gives you three ways to build UI. Pick your favorite - or mix and match.
            They all use the same reactive system under the hood.
        </p>
        <h2>Comparison</h2>
        <table class="api-table">
            <thead>
                <tr>
                    <th>Style</th>
                    <th>Pros</th>
                    <th>Cons</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Tagged API</strong></td>
                    <td>Most concise, natural to write</td>
                    <td>Requires destructuring</td>
                </tr>
                <tr>
                    <td><strong>vDOM</strong></td>
                    <td>JSON serializable, easy to validate</td>
                    <td>Most verbose</td>
                </tr>
                <tr>
                    <td><strong>Object DOM</strong></td>
                    <td>Compact JSON, clean templates</td>
                    <td>Harder to validate than explicit vDOM</td>
                </tr>
            </tbody>
        </table>
        <!-- Tabs -->
        <script>
            window.switchSyntaxTab = (tabId) => {
                const tabs = ['tagged', 'vdom', 'object'];
                tabs.forEach(t => {
                    const tabEl = document.getElementById(`tab-btn-${t}`);
                    const contentEl = document.getElementById(`syntax-${t}`);
                    if (t === tabId) {
                        tabEl.classList.add('syntax-tab-active');
                        contentEl.style.display = 'block';
                    } else {
                        tabEl.classList.remove('syntax-tab-active');
                        contentEl.style.display = 'none';
                    }
                });
            };
        </script>
        <div role="tablist" class="syntax-tabs" style="margin-bottom: 1rem;">
            <button id="tab-btn-tagged" role="tab" class="syntax-tab syntax-tab-active"
                onclick="switchSyntaxTab('tagged')">Tagged API</button>
            <button id="tab-btn-vdom" role="tab" class="syntax-tab" onclick="switchSyntaxTab('vdom')">vDOM</button>
            <button id="tab-btn-object" role="tab" class="syntax-tab" onclick="switchSyntaxTab('object')">Object
                DOM</button>
        </div>

        <!-- Tagged Syntax -->
        <div id="syntax-tagged">
            <pre><script>
                examplify(document.currentScript.nextElementSibling, {
                    at: document.currentScript.parentElement,
                    scripts: ['/lightview.js', '/lightview-x.js'],
                    type: 'module',
                    minHeight: 120
                });
            </script><code contenteditable="true">const { signal, tags, $ } = Lightview;
const { div, h1, p, button } = tags;
const count = signal(0);
const app = div({ class: 'container' },
    h1('Hello Lightview'),
    p(() => `Count: ${count.value}`),
    button({ onclick: () => count.value++ }, 'Click me')
);
$('#example').content(app);</code></pre>
        </div>

        <!-- vDOM Syntax -->
        <div id="syntax-vdom" style="display: none;">
            <pre><script>
                examplify(document.currentScript.nextElementSibling, {
                    at: document.currentScript.parentElement,
                    scripts: ['/lightview.js', '/lightview-x.js'],
                    type: 'module',
                    minHeight: 120
                });
            </script><code contenteditable="true">const { signal, element, $ } = Lightview;
const count = signal(0);
const app = { tag:'div', attributes: { class: 'container' }, children: [
    { tag: 'h1', attributes: {}, children: ['Hello Lightview'] },
    { tag: 'p', attributes: {}, children: [() => `Count: ${count.value}`] },
    { tag: 'button', attributes: { onclick: () => count.value++ }, children: ['Click me'] }
]};
$('#example').content(app);</code></pre>
        </div>

        <!-- Object DOM Syntax -->
        <div id="syntax-object" style="display: none;">
            <pre><script>
                examplify(document.currentScript.nextElementSibling, {
                    at: document.currentScript.parentElement,
                    scripts: ['/lightview.js', '/lightview-x.js'],
                    type: 'module',
                    minHeight: 120
                });
            </script><code contenteditable="true">const { signal, tags, $ } = Lightview;
const { div } = tags;
const count = signal(0);
const app = { div: { class: 'container', children: [
    { h1: { children: ['Hello Lightview'] } },
    { p: { children: [() => `Count: ${count.value}`] } },
    { button: { onclick: () => count.value++, children: ['Click me'] } }
]}};
$('#example').content(app);</code></pre>
        </div>

        <h2>Attributes & Events</h2>
        <p>
            Pass attributes as the first argument (Tagged API) or in the attributes object (others):
        </p>
        <pre><code>// Standard attributes
div({ 
    id: 'my-div',
    class: 'container active',
    style: 'color: red;',
    'data-value': '42'
})

// Reactive attributes - use functions!
div({
    class: () => isActive.value ? 'active' : 'inactive',
    style: () => `opacity: ${visible.value ? 1 : 0}`,
    disabled: () => isLoading.value
})

// Event handlers - use "on" prefix
button({
    onclick: (e) => handleClick(e),
    onmouseenter: () => setHovered(true),
    onmouseleave: () => setHovered(false)
})</code></pre>

        <h2>Children</h2>
        <p>
            Children can be strings, numbers, elements, arrays, or functions:
        </p>
        <pre><code>div(
    'Static text',                          // String
    42,                                     // Number (converted to string)
    span('Nested element'),                 // Element
    () => `Dynamic: ${value.value}`,        // Reactive function
    () => items.value.map(i => li(i.name)), // Reactive list
    condition && span('Conditional')        // Conditional (falsy = not rendered)
)</code></pre>

        <h2>The domEl Property</h2>
        <p>
            Every Lightview element has a <code>domEl</code> property - the actual DOM node:
        </p>
        <pre><code>const myDiv = div({ class: 'box' }, 'Hello');

// Access the real DOM element
document.body.appendChild(myDiv.domEl);

// You can also manipulate it directly
myDiv.domEl.classList.add('another-class');</code></pre>