<!-- SEO-friendly SPA Shim -->
<script src="../../../lightview-router.js"></script>
<script>
    if (window.LightviewRouter) {
        LightviewRouter.base('../../index.html');
    }
</script>

<div class="docs-layout">
    <aside class="docs-sidebar" src="./nav.html"></aside>

    <main class="docs-content">
        <h1>API Reference</h1>
        <p>
            Lightview provides a small but powerful API. Everything you need, nothing you don't.
            <em>Keep it light, remember?</em>
        </p>

        <h2>Lightview Overview</h2>

        <table class="api-table">
            <thead>
                <tr>
                    <th>Function</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>signal(value, name?)</code><br><code>signal.get(name)</code></td>
                    <td>Create reactive state that triggers updates when changed. Optional name allows global access.
                    </td>
                </tr>
                <tr>
                    <td><code>computed(fn)</code></td>
                    <td>Derive values from signals automatically</td>
                </tr>
                <tr>
                    <td><code>effect(fn)</code></td>
                    <td>Run side effects when dependencies change</td>
                </tr>
                <tr>
                    <td><code>element(tag, attrs, children)</code></td>
                    <td>Create reactive DOM elements</td>
                </tr>
                <tr>
                    <td><code>tags.*</code></td>
                    <td>Shorthand element creators (div, span, button, etc.)</td>
                </tr>
                <tr>
                    <td><code>$(selector)</code></td>
                    <td>Query the DOM and get an element on which you can call 'insert' to place content before, at the
                        start of, and the end of or after the element. '$(css).content(node)' is polymorphic and can
                        take
                        both real and virtual nodes as an argument.</td>
                </tr>
                <tr>
                    <td><code>enhance(selector, options)</code></td>
                    <td>Add reactivity to existing DOM elements. Perfect for progressive enhancement of traditional HTML
                        pages.</td>
                </tr>
            </tbody>
        </table>

        <h2>Lightview X Overview</h2>
        <p>
            Lightview X automatically enhances the core Lightview instance when loaded, adding hypermedia capabilities,
            template literal support, and optional Object DOM syntax.
        </p>

        <table class="api-table">
            <thead>
                <tr>
                    <th>Feature / Function</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>state(obj, name?)</code><br><code>state.get(name)</code></td>
                    <td>Create deep reactive state for complex objects/arrays. Optional name allows global access.</td>
                </tr>
                <tr>
                    <td><code>src="..."</code></td>
                    <td>Attribute to automatically fetch HTML or JSON representing HTML and inject it into the element.
                    </td>
                </tr>
                <tr>
                    <td><code>href="..."</code></td>
                    <td>Attribute for SPA navigation and src injection on any element. Supports targeting content
                        before, at the start of, and the end of or after other elements via CSS selectors.</td>
                </tr>
                <tr>
                    <td>
                        <code>&lt;div&gt;${signal.get('count').value}&lt;/div&gt;</code><br><code>&lt;span&gt;${state.get('user').name}&lt;/span&gt;</code>
                    </td>
                    <td>Syntax support for using signals and state directly inside string templates in HTML or JSON
                        representation of HTML.</td>
                </tr>
                <tr>
                    <td><code>useObjectDOMSyntax(strict)</code></td>
                    <td>Enable the Object DOM syntax processor for defining UI with JSON objects.</td>
                </tr>
            </tbody>
        </table>

        <h2>Using Lightview</h2>
        <pre><code>&lt;!-- Core only --&gt;
&lt;script src="lightview.js"&gt;&lt;/script&gt;

&lt;!-- Full power --&gt;
&lt;script src="lightview.js"&gt;&lt;/script&gt;
&lt;script src="lightview-x.js"&gt;&lt;/script&gt;</code></pre>
        <pre><code>// Destructure what you need from the global instances
const { signal, computed, effect, element, tags, $, enhance } = Lightview;
const { state } = LightviewX; // Deep state (lightview-x)</code></pre>



        <h2>Core Modules</h2>

        <div class="feature-grid" style="margin-top: 1.5rem;">
            <a href="./signals" class="feature-card" style="text-decoration: none; color: inherit;">
                <h3 class="feature-title">Signals</h3>
                <p class="feature-description">
                    The foundation. Reactive primitives that make everything tick.
                </p>
            </a>
            <a href="./computed" class="feature-card" style="text-decoration: none; color: inherit;">
                <h3 class="feature-title">Computed</h3>
                <p class="feature-description">
                    Derived state. Values that update themselves.
                </p>
            </a>
            <a href="./effects" class="feature-card" style="text-decoration: none; color: inherit;">
                <h3 class="feature-title">Effects</h3>
                <p class="feature-description">
                    Side effects. Do things when state changes.
                </p>
            </a>
            <a href="./elements" class="feature-card" style="text-decoration: none; color: inherit;">
                <h3 class="feature-title">Elements</h3>
                <p class="feature-description">
                    Three ways to build UI, tag functions, vDOM, and Object DOM. Pick your favorite.
                </p>
            </a>
            <a href="./enhance" class="feature-card" style="text-decoration: none; color: inherit;">
                <h3 class="feature-title">Enhance</h3>
                <p class="feature-description">
                    Add reactivity to existing HTML. Progressive enhancement made easy.
                </p>
            </a>
            <a href="./hypermedia.html" class="feature-card" style="text-decoration: none; color: inherit;">
                <h3 class="feature-title">Hypermedia</h3>
                <p class="feature-description">
                    Fetch content with src. HTMX vibes, built in.
                </p>
            </a>
        </div>

    </main>
</div>