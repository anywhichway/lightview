<!-- SEO-friendly SPA Shim -->
<script src="../../../lightview-router.js"></script>
<script>
  if (window.LightviewRouter) {
    LightviewRouter.base('../../index.html');
  }
</script>

<div class="section">
  <div class="section-content" style="max-width: 1000px;">
    <!-- Breadcrumbs -->
    <div id="page-breadcrumbs" style="margin-bottom: 1rem;"></div>
    <script type="module">
      const { $ } = Lightview;
      const { default: Breadcrumbs } = await import('/components/navigation/breadcrumbs.js');

      const breadcrumbs = Breadcrumbs({
        items: [
          { label: 'Components', href: '/docs/components' },
          { label: 'Drawer' }
        ]
      });

      $('#page-breadcrumbs').content(breadcrumbs);
    </script>
    <h1>Drawer</h1>
    <p class="text-lg" style="opacity: 0.7; margin-bottom: 1.5rem;">
      Drawer is a sidebar that can be opened from the left or right side.
      Perfect for navigation menus and side panels.
    </p>

    <!-- Basic Example with Examplify -->
    <div class="card bg-base-200" style="margin-bottom: 2rem;">
      <div class="card-body">
        <h2 class="card-title">Basic Example</h2>
        <p class="text-sm" style="opacity: 0.7; margin-bottom: 1rem;">Drawer with toggle button and menu</p>

        <!-- Preview container -->
        <div id="basic-preview" style="margin-bottom: 1rem;"></div>

        <!-- Code display -->
        <pre class="bg-base-300 rounded-lg text-sm" style="padding: 1rem; overflow-x: auto;"><code id="basic-code">
const { default: Drawer } = await import('/components/layout/drawer.js');

const { tags, $ } = Lightview;
const { ul, li, a, p } = tags;

const drawerId = 'my-drawer';

const drawer = Drawer({ id: drawerId },
    Drawer.Content({},
        Drawer.Button({ for: drawerId }, 'Open Drawer'),
        p({ class: 'py-4' }, 'Main content area. Click the button to open the drawer.')
    ),
    Drawer.Side({ class: 'z-50' },
        Drawer.Overlay({ for: drawerId }),
        ul({ class: 'menu bg-base-200 text-base-content min-h-full w-64 p-4' },
            li({}, a({}, 'üìÅ Dashboard')),
            li({}, a({}, 'üë§ Profile')),
            li({}, a({}, '‚öôÔ∏è Settings')),
            li({}, a({}, 'üö™ Logout'))
        )
    )
);

$('#example').content(drawer);</code></pre>
      </div>
    </div>

    <!-- Reactive Example with Examplify -->
    <div class="card bg-base-200" style="margin-bottom: 2rem;">
      <div class="card-body">
        <h2 class="card-title">Right Side Drawer</h2>
        <p class="text-sm" style="opacity: 0.7; margin-bottom: 1rem;">Drawer opening from the right</p>

        <!-- Preview container -->
        <div id="reactive-preview" style="margin-bottom: 1rem;"></div>

        <!-- Code display -->
        <pre class="bg-base-300 rounded-lg text-sm" style="padding: 1rem; overflow-x: auto;"><code id="reactive-code">
const { default: Drawer } = await import('/components/layout/drawer.js');
const { default: Button } = await import('/components/actions/button.js');

const { tags, $ } = Lightview;
const { ul, li, a, div, p, h3 } = tags;

const drawerId = 'cart-drawer';

const drawer = Drawer({ id: drawerId, end: true },
    Drawer.Content({},
        Drawer.Button({ for: drawerId, class: 'btn-accent' }, 'üõí View Cart')
    ),
    Drawer.Side({ class: 'z-50' },
        Drawer.Overlay({ for: drawerId }),
        div({ class: 'bg-base-200 text-base-content min-h-full w-80 p-4' },
            h3({ class: 'text-lg font-bold mb-4' }, 'üõí Shopping Cart'),
            div({ class: 'divider' }),
            p({ class: 'opacity-70' }, 'Your cart is empty'),
            div({ class: 'mt-4' },
                Button({ color: 'primary', class: 'w-full' }, 'Checkout')
            )
        )
    )
);

$('#example').content(drawer);</code></pre>
      </div>
    </div>

    <!-- Props Table -->
    <h2 class="text-xl font-bold" style="margin-bottom: 1rem;">Props</h2>
    <div style="overflow-x: auto; margin-bottom: 2rem;">
      <table class="table table-zebra">
        <thead>
          <tr>
            <th>Prop</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>id</code></td>
            <td>string</td>
            <td>auto</td>
            <td>Unique ID for the drawer toggle</td>
          </tr>
          <tr>
            <td><code>open</code></td>
            <td>boolean | function</td>
            <td>false</td>
            <td>Control open state (reactive)</td>
          </tr>
          <tr>
            <td><code>end</code></td>
            <td>boolean</td>
            <td>false</td>
            <td>Open from right side</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Sub-components -->
    <h2 class="text-xl font-bold" style="margin-bottom: 1rem;">Sub-components</h2>
    <div style="overflow-x: auto; margin-bottom: 2rem;">
      <table class="table table-zebra">
        <thead>
          <tr>
            <th>Component</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>Drawer.Content</code></td>
            <td>Main content area (visible when drawer is closed)</td>
          </tr>
          <tr>
            <td><code>Drawer.Side</code></td>
            <td>Sidebar content container</td>
          </tr>
          <tr>
            <td><code>Drawer.Overlay</code></td>
            <td>Click-to-close overlay backdrop</td>
          </tr>
          <tr>
            <td><code>Drawer.Button</code></td>
            <td>Toggle button to open drawer</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Static Example -->
    <h2 class="text-xl font-bold" style="margin-bottom: 1rem;">Interactive Demo</h2>
    <div class="drawer rounded-lg border border-base-300" style="margin-bottom: 2rem; height: 12rem; overflow: hidden;">
      <input id="demo-drawer" type="checkbox" class="drawer-toggle" />
      <div class="drawer-content flex flex-col items-center justify-center">
        <label for="demo-drawer" class="btn btn-primary drawer-button">Open drawer</label>
      </div>
      <div class="drawer-side z-50">
        <label for="demo-drawer" aria-label="close sidebar" class="drawer-overlay"></label>
        <ul class="menu bg-base-200 text-base-content min-h-full w-80 p-4">
          <li><a>Sidebar Item 1</a></li>
          <li><a>Sidebar Item 2</a></li>
          <li><a>Sidebar Item 3</a></li>
        </ul>
      </div>
    </div>


  </div>
</div>

<script>
  // Use examplify to run the code and show preview
  (function () {
    // Basic example
    const basicCodeEl = document.getElementById('basic-code');
    const basicPreview = document.getElementById('basic-preview');

    if (typeof examplify !== 'undefined' && basicCodeEl) {
      const result = examplify(basicCodeEl, {
        scripts: ['/lightview.js', '/lightview-x.js'],
        type: 'module',
        html: '<div id="demo" style="height: 200px;"></div>',
        height: '220px'
      });

      if (result && result.iframe) {
        basicPreview.appendChild(result.iframe);
        result.iframe.style.border = '1px solid oklch(var(--bc) / 0.2)';
        result.iframe.style.borderRadius = '0.5rem';
      }
    }

    // Reactive example
    const reactiveCodeEl = document.getElementById('reactive-code');
    const reactivePreview = document.getElementById('reactive-preview');

    if (typeof examplify !== 'undefined' && reactiveCodeEl) {
      const result = examplify(reactiveCodeEl, {
        scripts: ['/lightview.js', '/lightview-x.js'],
        type: 'module',
        html: '<div id="demo" style="height: 200px;"></div>',
        height: '220px'
      });

      if (result && result.iframe) {
        reactivePreview.appendChild(result.iframe);
        result.iframe.style.border = '1px solid oklch(var(--bc) / 0.2)';
        result.iframe.style.borderRadius = '0.5rem';
      }
    }
  })();
</script>